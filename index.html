<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>XRISK Demo</title>
    <style>
        body { font-family: Arial, sans-serif; margin:0; padding:0; background:#001429; }
        header { background:#000000; color:white; padding:15px 30px; display:flex; align-items:center; justify-content:space-between; }
        header nav a { color:white; margin:0 15px; text-decoration:none; font-weight:bold; }
        .hero { background:#ffffff; padding:50px 30px; text-align:center; }
        .hero h1 { font-size:32px; margin-bottom:15px; }
        .hero p { font-size:18px; color:#444; margin-bottom:20px; }
        .btn { background:#0078d4; color:white; padding:12px 25px; text-decoration:none; border-radius:5px; font-weight:bold; display:inline-block; cursor:pointer; border:none; font-size:14px; }
        .btn:hover { background:#005a9e; }
        .section { padding:40px 30px; background:#ffffff; margin-top:20px; border-radius:8px; max-width:1100px; margin-left:auto; margin-right:auto; position:relative; }
        .section h2 { font-size:28px; color:#0b2c3d; margin-bottom:10px; }
        .section p { font-size:16px; color:#555; line-height:1.5; }
        
        /* Bot√≥n de captura */
        .capture-btn {
            position: absolute;
            top: 10px;
            right: 30px;
            background: #28a745;
            padding: 8px 16px;
            font-size: 14px;
            z-index: 100;
        }
        .capture-btn:hover {
            background: #218838;
        }
        
        /* Estilos para el dashboard */
        .dashboard-container {
            background:#D9D9D9;
            padding:20px;
            border-radius:10px;
            position: relative;
            margin-top: 40px;
        }

        /* ===== ESTILO PARA OCULTAR BARRA POWER BI (FORMA 1) ===== */
        .pbi-wrapper {
            width: 100%;
            height: 560px;
            overflow: hidden;
            position: relative;
            border-radius: 8px;
        }

        .pbi-wrapper iframe {
            width: 100%;
            height: 700px;
            border: none;
        }
        
        /* Indicador de captura */
        .capture-indicator {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(40, 167, 69, 0.2);
            border: 3px solid #28a745;
            border-radius: 10px;
            z-index: 50;
            pointer-events: none;
            animation: pulse 0.5s ease-in-out;
            display: none;
        }
        
        @keyframes pulse {
            0% { opacity: 0.5; }
            50% { opacity: 0.8; }
            100% { opacity: 0.2; }
        }
    </style>
    <!-- Incluir html2canvas para capturar elementos -->
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
</head>
<body>

<!-- ===== CABECERA / MENU ===== -->
<header>
    <div class="logo">
        <span style="font-size:24px; font-weight:bold;">XRISK Demo</span>
    </div>
    <nav>
        <a href="#dashboard1">DASHBOARD 1</a>
        <a href="#dashboard2">DASHBOARD 2 (sin barra)</a>
        <a href="#soluciones">SOLUCIONES</a>
        <a href="#contacto">CONTACTO</a>
    </nav>
</header>

<!-- ===== HERO / TITULO PRINCIPAL ===== -->
<section class="hero">
    <h1>Lleva tu empresa al siguiente nivel</h1>
    <p>Somos una firma especializada en soluciones estrat√©gicas, inteligencia artificial y an√°lisis de datos.</p>
</section>

<!-- ===== DASHBOARD 1 (ORIGINAL CON BARRA) ===== -->
<section id="dashboard1" class="section">
    <h2>Dashboard con barra inferior (original)</h2>
    
    <!-- Bot√≥n para capturar el dashboard -->
    <button id="captureDashboard1" class="btn capture-btn">
        üì∏ Capturar Dashboard
    </button>
    
    <div class="dashboard-container" id="dashboard1-container">
        <!-- Indicador visual de captura -->
        <div id="captureIndicator" class="capture-indicator"></div>
        
        <!-- Dashboard de Power BI -->
        <iframe 
            src="https://app.powerbi.com/view?r=eyJrIjoiNDBmZDUzN2QtNWU4Yy00Y2QzLTg0NDctMjMxNjRkYzZiMDdjIiwidCI6IjFlYmE0NDNmLTIzZTUtNDUzNC05MGQxLTA5NzZhYWJlODZhYyIsImMiOjR9" 
            style="width:100%; height:560px; border:none; border-radius:8px;" 
            allowfullscreen="true">
        </iframe>
    </div>
    
    <!-- Mensaje de confirmaci√≥n -->
    <p id="captureMessage" style="text-align:center; margin-top:15px; color:#28a745; font-weight:bold; display:none;">
        ¬°Captura realizada! La imagen se ha descargado autom√°ticamente.
    </p>
</section>

<!-- ===== DASHBOARD 2 (FORMA 1 ‚Äì SIN BARRA INFERIOR) ===== -->
<section id="dashboard2" class="section">
    <h2>Dashboard sin barra inferior (Forma 1)</h2>
    <div style="background:#D9D9D9; padding:20px; border-radius:10px;">
        <div class="pbi-wrapper">
            <iframe 
                src="https://app.powerbi.com/view?r=eyJrIjoiNDBmZDUzN2QtNWU4Yy00Y2QzLTg0NDctMjMxNjRkYzZiMDdjIiwidCI6IjFlYmE0NDNmLTIzZTUtNDUzNC05MGQxLTA5NzZhYWJlODZhYyIsImMiOjR9"
                allowfullscreen="true">
            </iframe>
        </div>
    </div>
</section>

<!-- ===== CONTACTO ===== -->
<section id="contacto" class="section">
    <h2>Contacto</h2>
    <p>Correo: cclaros@xrisk.pe</p>
    <p>Tel: +51 994 366 233</p>
</section>

<script>
    // Funci√≥n para capturar el dashboard
    document.getElementById('captureDashboard1').addEventListener('click', function() {
        const container = document.getElementById('dashboard1-container');
        const indicator = document.getElementById('captureIndicator');
        const message = document.getElementById('captureMessage');
        
        // Mostrar indicador visual
        indicator.style.display = 'block';
        
        // Ocultar mensaje anterior si existe
        message.style.display = 'none';
        
        // Capturar el dashboard (con un peque√±o retraso para que se vea el indicador)
        setTimeout(() => {
            html2canvas(container, {
                backgroundColor: '#D9D9D9', // Color de fondo del dashboard
                scale: 1, // Escala de la imagen (1 = tama√±o original)
                useCORS: true, // Permitir im√°genes de origen cruzado
                logging: false // Desactivar logs en consola
            }).then(canvas => {
                // Crear un enlace para descargar la imagen
                const link = document.createElement('a');
                link.download = 'dashboard-xrisk-' + new Date().getTime() + '.png';
                link.href = canvas.toDataURL('image/png');
                link.click();
                
                // Ocultar indicador visual
                indicator.style.display = 'none';
                
                // Mostrar mensaje de confirmaci√≥n
                message.style.display = 'block';
                
                // Ocultar mensaje despu√©s de 3 segundos
                setTimeout(() => {
                    message.style.display = 'none';
                }, 3000);
            }).catch(error => {
                console.error('Error al capturar el dashboard:', error);
                indicator.style.display = 'none';
                alert('Hubo un error al capturar el dashboard. Por favor, intente nuevamente.');
            });
        }, 300);
    });
    
    // Tambi√©n podemos agregar funcionalidad para presionar la tecla "P" para capturar
    document.addEventListener('keydown', function(event) {
        // Verificar si estamos en la secci√≥n del dashboard 1
        const dashboard1Section = document.getElementById('dashboard1');
        const rect = dashboard1Section.getBoundingClientRect();
        const isInDashboardSection = rect.top < window.innerHeight && rect.bottom > 0;
        
        // Si estamos en la secci√≥n y presionamos "p" o "P"
        if (isInDashboardSection && (event.key === 'p' || event.key === 'P')) {
            event.preventDefault();
            document.getElementById('captureDashboard1').click();
        }
    });
</script>

</body>
</html>

