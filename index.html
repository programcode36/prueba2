
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>XRISK Demo</title>

    <style>
        /* ===== ESTILOS GENERALES ===== */
        body {
            font-family: Arial, sans-serif;
            margin:0;
            padding:0;
            background:#001429;
        }

        header {
            background:#000000;
            color:white;
            padding:15px 30px;
            display:flex;
            align-items:center;
            justify-content:space-between;
        }

        header nav a {
            color:white;
            margin:0 15px;
            text-decoration:none;
            font-weight:bold;
        }

        .hero {
            background:#ffffff;
            padding:50px 30px;
            text-align:center;
        }

        .section {
            padding:40px 30px;
            background:#ffffff;
            margin-top:20px;
            border-radius:8px;
            max-width:1100px;
            margin-left:auto;
            margin-right:auto;
            position:relative; /* NECESARIO PARA EL BOTON FLOTANTE */
        }

        /* ===== AREA QUE SE CAPTURA PARA EL PDF ===== */
        .pbi-wrapper {
            width: 100%;
            height: 560px;
            overflow: hidden;      /* OCULTA LA BARRA INFERIOR */
            border-radius: 8px;
        }

        .pbi-wrapper iframe {
            width: 100%;
            height: 700px;         /* MAS ALTO PARA RECORTAR MENU */
            border: none;
        }

        /* ===== BOTON EXPORTAR PDF ===== */
        .btn-exportar {
            position:absolute;
            top:20px;
            right:20px;
            background:#28a745;
            color:#fff;
            border:none;
            padding:10px 18px;
            border-radius:6px;
            font-weight:bold;
            cursor:pointer;
            z-index:100;
        }
    </style>
</head>

<body>

<!-- ===== CABECERA ===== -->
<header>
    <div style="font-size:24px; font-weight:bold;">XRISK Demo</div>
    <nav>
        <a href="#dashboard1">Dashboard 1</a>
        <a href="#dashboard2">Dashboard 2</a>
        <a href="#contacto">Contacto</a>
    </nav>
</header>

<!-- ===== TITULO PRINCIPAL ===== -->
<section class="hero">
    <h1>Lleva tu empresa al siguiente nivel</h1>
    <p>Soluciones estratÃ©gicas, inteligencia artificial y anÃ¡lisis de datos.</p>
</section>

<!-- ===== DASHBOARD NORMAL ===== -->
<section id="dashboard1" class="section">
    <h2>Dashboard con barra inferior</h2>
    <iframe
        src="https://app.powerbi.com/view?r=eyJrIjoiNDBmZDUzN2QtNWU4Yy00Y2QzLTg0NDctMjMxNjRkYzZiMDdjIiwidCI6IjFlYmE0NDNmLTIzZTUtNDUzNC05MGQxLTA5NzZhYWJlODZhYyIsImMiOjR9"
        style="width:100%; height:560px; border:none;">
    </iframe>
</section>

<!-- ===== DASHBOARD QUE SE EXPORTA A PDF ===== -->
<section id="dashboard2" class="section">
    <h2>Dashboard sin barra inferior</h2>

    <!-- BOTON PARA GENERAR PDF -->
    <button class="btn-exportar" id="btnExportar">
        ðŸ“„ Descargar PDF
    </button>

    <!-- SOLO ESTE BLOQUE SE CAPTURA -->
    <div id="areaDashboard2" class="pbi-wrapper">
        <iframe
            src="https://app.powerbi.com/view?r=eyJrIjoiNDBmZDUzN2QtNWU4Yy00Y2QzLTg0NDctMjMxNjRkYzZiMDdjIiwidCI6IjFlYmE0NDNmLTIzZTUtNDUzNC05MGQxLTA5NzZhYWJlODZhYyIsImMiOjR9"
            allowfullscreen="true">
        </iframe>
    </div>
</section>

<!-- ===== CONTACTO ===== -->
<section id="contacto" class="section">
    <h2>Contacto</h2>
    <p>Correo: cclaros@xrisk.pe</p>
    <p>Tel: +51 994 366 233</p>
</section>

<!-- ===== LIBRERIAS PARA CAPTURA Y PDF ===== -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<script>
    /* ACCESO A jsPDF */
    const { jsPDF } = window.jspdf;

    /* EVENTO CLICK DEL BOTON */
    document.getElementById("btnExportar").addEventListener("click", () => {

        // Selecciona SOLO el dashboard 2
        const area = document.getElementById("areaDashboard2");

        // Convierte el div en imagen
        html2canvas(area, { scale: 2, useCORS: true }).then(canvas => {

            // Convierte la imagen a PDF
            const imgData = canvas.toDataURL("image/png");
            const pdf = new jsPDF("l", "px", [canvas.width, canvas.height]);

            pdf.addImage(imgData, "PNG", 0, 0, canvas.width, canvas.height);

            // Descarga automÃ¡tica
            pdf.save("Dashboard_XRISK.pdf");
        });
    });
</script>

</body>
</html>


